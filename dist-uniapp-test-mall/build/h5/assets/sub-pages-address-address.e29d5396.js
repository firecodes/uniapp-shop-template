import{d as s,s as e,J as t,R as a,o,c as l,w as r,a as i,h as d,r as f,u as n,F as c,b as u,m as b,n as p,g as m,q as x,v as _,l as g,t as y,A as h,P as w,K as k,e as v,V as j}from"./index.1710046744346.js";import{_ as C,a as A}from"./uni-swipe-action.c33e036a.js";import{u as L}from"./useAddress.44d9d800.js";import{d as B}from"./address.247bf78a.js";import{u as D}from"./useSystem.fcc01766.js";import{_ as q}from"./plugin-vueexport-helper.6cd7b27f.js";import"./request.ff2c352d.js";const I=q(s({__name:"address",setup(s){const q=L(),{addressList:I}=e(q);t((()=>{q.getAddressListData()}));const S=s=>{p({url:"/sub-pages/address-form/address-form?"+("string"==typeof s?`id=${s}`:"")})},z=[{text:"删除",style:{backgroundColor:"#ff0000",color:"#fff",fontSize:"16px"}}],F=s=>{"right"==s.position&&k({content:"确定删除该地址吗？",confirmColor:"#fbb957",success:async e=>{e.confirm&&(await B(I.value[s.index].id),await q.getAddressListData(),v({title:"删除成功",icon:"none"}))}})},{safeAreaInsetsBottom:J}=D();return a(I,(()=>{0==I.value.length&&q.setAddress(void 0)})),(s,e)=>{const t=m,a=x(_("uni-swipe-action-item"),C),p=x(_("uni-swipe-action"),A),k=g;return o(),l(t,{class:"p-3 h-full box-border",style:b({paddingBottom:n(J)+12+"px"})},{default:r((()=>[i(k,{class:"h-[calc(100%-100rpx)]","scroll-y":""},{default:r((()=>[i(p,{class:"bg-white rounded-2"},{default:r((()=>[(o(!0),d(c,null,f(n(I),(s=>(o(),l(t,{class:"bg-white",onClick:e=>(s=>{q.setAddress(s),j()})(s),key:s.id},{default:r((()=>[i(a,{"right-options":z,"auto-close":"",onClick:F},{default:r((()=>[i(t,{class:"flex justify-between px-3 py-5 b-bottom"},{default:r((()=>[i(t,{class:"flex-1"},{default:r((()=>[i(t,{class:"flex items-center"},{default:r((()=>[i(t,{class:"text-[#333] mr-2"},{default:r((()=>[u(y(s.receiver),1)])),_:2},1024),i(t,{class:"text-[#333] mr-2"},{default:r((()=>[u(y(s.contact),1)])),_:2},1024),1==s.isDefault?(o(),l(t,{key:0,class:"border-1 border-solid border-[#fbb957] text-[#fbb957] rounded-1 px-1.5 py-0.25 text-xs inline-block"},{default:r((()=>[u(" 默认")])),_:1})):h("v-if",!0)])),_:2},1024),i(t,{class:"mt-3"},{default:r((()=>[u(y(s.fullLocation),1)])),_:2},1024)])),_:2},1024),i(t,{class:"w-10 text-sm flex text-[#999]"},{default:r((()=>[i(t,{class:"before:content-[''] before:inline-block before:relative before:top-0.7 before:right-1 before:w-0.1 before:h-4 before:bg-[#999]",onClick:w((e=>S(s.id)),["stop"])},{default:r((()=>[u(" 修改 ")])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),i(t,{class:"mt-20rpx bg-[#fbb957] text-white center py-2 rounded-full",style:b({marginBottom:n(J)+"px"}),onClick:S},{default:r((()=>[i(t,{class:"i-carbon-add"}),i(t,{class:"ml-1"},{default:r((()=>[u("新增地址")])),_:1})])),_:1},8,["style"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-aad362a1"]]);export{I as default};