import{d as f,Q as k,y as v,R as h,S as g,a as y,f as i,w as c,p as N,m as V,k as n,o as S,ab as x}from"./index-47556e42.js";import"./index-44953755.js";import{F as E}from"./index-20e3716c.js";import{_ as F}from"./NavBar.vuevuetypescriptsetuptruelang-ee011e2e.js";import{F as I}from"./index-36df0198.js";import{_ as b}from"./plugin-vueexport-helper-c27b6911.js";import"./use-id-2398f99c.js";import"./index-e38c79e7.js";import"./Icon-3fa126d6.js";const w=t=>(N("data-v-b2ded4da"),t=t(),V(),t),C=w(()=>n("div",{class:"note p-6"},[n("p",null,"昵称支持2-12个中文字符或3-24个英文字符，"),n("p",null,"符号仅支持”-“和”_“和”.“以及“·”")],-1)),B=f({__name:"EditNickname",setup(t){const m=k(),{nickname:l}=m.getUserInfo,a=v(),s=h({nickname:""});function d(){return async e=>/^[\u4E00-\u9FA5A-Za-z0-9-_.·]+$/.test(e)?e.length<2||e.length>12?Promise.resolve("长度不符合"):Promise.resolve(!0):Promise.resolve("请输入正确内容")}function _(){var e;(e=a.value)==null||e.validate().then(async()=>{var o;try{const r=(o=a.value)==null?void 0:o.getValues();x({message:`当前表单值：${JSON.stringify(r)}`})}finally{}}).catch(()=>{console.error("验证失败")})}return g(()=>{s.nickname=l}),(e,o)=>{const r=E,p=I;return S(),y("div",null,[i(F,null,{right:c(()=>[n("span",{onClick:_},"保存")]),_:1}),i(p,{ref_key:"formRef",ref:a},{default:c(()=>[i(r,{modelValue:s.nickname,"onUpdate:modelValue":o[0]||(o[0]=u=>s.nickname=u),class:"mt-4",name:"nickname",placeholder:"请输入昵称（2-12字）",rules:[{validator:d(),trigger:"onChange"}]},null,8,["modelValue","rules"])]),_:1},512),C])}}});const Q=b(B,[["__scopeId","data-v-b2ded4da"]]);export{Q as default};
