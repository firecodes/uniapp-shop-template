import{e as f,j as k,F as v}from"./vant-1bcf7b33.js";import{_ as h}from"./NavBar.vuevuetypescriptsetuptruelang-bc0d554d.js";import{b as g}from"./index-9c033969.js";import{j as V,r as y,a as N,e as E,s as S,E as m,V as s,$ as x,a0 as I,t as r,q as b}from"./@vue-039bafd1.js";import{_ as C}from"./plugin-vueexport-helper-c27b6911.js";import"./@vant-89f9aa5a.js";import"./@vicons-7c64374d.js";import"./@xicons-08a530b2.js";import"./css-render-bba99c0e.js";import"./@emotion-8a8e73f6.js";import"./vue-router-62dfdcb8.js";/* empty css                */import"./pinia-8fce3011.js";import"./pinia-plugin-persist-4bd0ee57.js";import"./axios-a342f982.js";import"./qs-3adf1c80.js";import"./call-bind-0362a3f2.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./side-channel-27cf7d8c.js";import"./object-inspect-46f86162.js";import"./lodash-es-4d284b0e.js";import"./mockjs-5811d250.js";import"./vite-plugin-mock-3c140df3.js";import"./path-to-regexp-31db6522.js";const F=o=>(x("data-v-b2ded4da"),o=o(),I(),o),$=F(()=>r("div",{class:"note p-6"},[r("p",null,"昵称支持2-12个中文字符或3-24个英文字符，"),r("p",null,"符号仅支持”-“和”_“和”.“以及“·”")],-1)),w=V({__name:"EditNickname",setup(o){const p=g(),{nickname:c}=p.getUserInfo,n=y(),a=N({nickname:""});function l(){return async e=>/^[\u4E00-\u9FA5A-Za-z0-9-_.·]+$/.test(e)?e.length<2||e.length>12?Promise.resolve("长度不符合"):Promise.resolve(!0):Promise.resolve("请输入正确内容")}function d(){var e;(e=n.value)==null||e.validate().then(async()=>{var t;try{const i=(t=n.value)==null?void 0:t.getValues();k({message:`当前表单值：${JSON.stringify(i)}`})}finally{}}).catch(()=>{console.error("验证失败")})}return E(()=>{a.nickname=c}),(e,t)=>{const i=v,_=f;return b(),S("div",null,[m(h,null,{right:s(()=>[r("span",{onClick:d},"保存")]),_:1}),m(_,{ref_key:"formRef",ref:n},{default:s(()=>[m(i,{modelValue:a.nickname,"onUpdate:modelValue":t[0]||(t[0]=u=>a.nickname=u),class:"mt-4",name:"nickname",placeholder:"请输入昵称（2-12字）",rules:[{validator:l(),trigger:"onChange"}]},null,8,["modelValue","rules"])]),_:1},512),$])}}});const de=C(w,[["__scopeId","data-v-b2ded4da"]]);export{de as default};
